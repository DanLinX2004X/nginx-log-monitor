# üê≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ Nginx —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ Telegram

[![–í–µ—Ä—Å–∏—è Python](https://img.shields.io/badge/python-3.11+-blue.svg)](https://python.org)
[![Docker](https://img.shields.io/badge/docker-–≥–æ—Ç–æ–≤-2496ED.svg?logo=docker)](https://docker.com)
[![Telegram](https://img.shields.io/badge/telegram-–±–æ—Ç-26A5E4.svg?logo=telegram)](https://telegram.org)
[![–õ–∏—Ü–µ–Ω–∑–∏—è](https://img.shields.io/badge/–ª–∏—Ü–µ–Ω–∑–∏—è-MIT-green.svg)](LICENSE)

**üá∫üá∏ [English Version](README.md)** | **üá∑üá∫ –†—É—Å—Å–∫–∏–π**

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ Nginx –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ Telegram –æ 5xx –æ—à–∏–±–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞. –ü—Ä–æ—Å—Ç–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –ø–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Å—Ç–∏–ª–µ `tail -f`
- üì± **–£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã –¥–ª—è 5xx –æ—à–∏–±–æ–∫ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —Å–ø–∞–º–∞
- üê≥ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Docker** - –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å docker-compose
- ‚öôÔ∏è **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- üöÄ **–ù—É–ª–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ ([–ø–æ–ª—É—á–∏—Ç—å —É @BotFather](https://t.me/BotFather))
- ID —á–∞—Ç–∞ –≤ Telegram ([–ø–æ–ª—É—á–∏—Ç—å —É @userinfobot](https://t.me/userinfobot))

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
git clone https://github.com/DanLinX2004X/nginx-log-monitor.git
cd nginx-log-monitor

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à Telegram —Ç–æ–∫–µ–Ω –∏ ID —á–∞—Ç–∞

# 3. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d --build

# 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∞
docker-compose logs -f monitor
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
curl http://localhost:8080/                    # 200 –£—Å–ø–µ—Ö
curl http://localhost:8080/–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è-—Å—Ç—Ä–∞–Ω–∏—Ü–∞    # 404 –û—à–∏–±–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞

# –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è 5xx –æ—à–∏–±–æ–∫ –º–æ–∂–Ω–æ:
# - –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ 500 –æ—à–∏–±–æ–∫
# - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
```

## üê≥ Docker —Å–µ—Ä–≤–∏—Å—ã

### –û–±–∑–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤
- **nginx** - Nginx –≤–µ–±-—Å–µ—Ä–≤–µ—Ä —Å —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
- **monitor** - Python —Å–µ—Ä–≤–∏—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ª–æ–≥–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram

### –¢–æ–º–∞
- `./logs:/var/log/nginx` - Nginx –ø–∏—à–µ—Ç –ª–æ–≥–∏ —Å—é–¥–∞
- `./logs:/app/logs` - –ú–æ–Ω–∏—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç —Ç–µ –∂–µ –ª–æ–≥–∏ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ —Ñ–∞–π–ª–µ `.env`:
```bash
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
CHAT_ID=–≤–∞—à_id_—á–∞—Ç–∞
# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: LOG_FILE=/app/logs/access.log
```

## üõë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
docker-compose stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
docker-compose restart

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f nginx
docker-compose logs -f monitor
```

## üìù –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **Nginx** –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç –∏ –ø–∏—à–µ—Ç –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ `./logs/access.log`
2. **–ú–æ–Ω–∏—Ç–æ—Ä** —á–∏—Ç–∞–µ—Ç –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–¥—Ö–æ–¥ `tail -f`
3. **–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ 5xx –æ—à–∏–±–∫–∏** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–ª–µ—Ä—Ç –≤ Telegram
4. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ—à–∏–±–æ–∫

### –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –∞–ª–µ—Ä—Ç–∞
```
üö® 5xx ERROR
Time: 04/Oct/2025:21:30:00 +0000
IP: 127.0.0.1
Status: 500
Request: GET /api/users
```

## ‚öôÔ∏è –û–±–∑–æ—Ä CI –ü–∞–π–ø–ª–∞–π–Ω–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –æ–±–ª–µ–≥—á–µ–Ω–Ω—ã–π Continuous Integration (CI) –ø–∞–π–ø–ª–∞–π–Ω –Ω–∞ –±–∞–∑–µ GitHub Actions.

### üõ† –≠—Ç–∞–ø—ã –ø–∞–π–ø–ª–∞–π–Ω–∞:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç pip
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞** ‚Äî –ó–∞–ø—É—Å–∫–∞–µ—Ç py_compile –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞  
3. **–¢–µ—Å—Ç —Å–±–æ—Ä–∫–∏ Docker** ‚Äî –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ Docker –æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Compose** ‚Äî –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å docker-compose.yml
5. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** ‚Äî –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—É—Å–∫–∏**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º push –∏–ª–∏ pull request –≤ –≤–µ—Ç–∫–∏ `main` –∏ `develop`
- **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫**: –î–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GitHub Actions
- **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Telegram –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏ —Ç–æ–∫–µ–Ω—ã
docker-compose logs monitor | grep "Telegram"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª .env
cat .env

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram
docker exec nginx-monitor python -c "
import os; from dotenv import load_dotenv; load_dotenv()
print('Token:', bool(os.getenv('TELEGRAM_TOKEN')))
print('Chat ID:', bool(os.getenv('CHAT_ID')))
"
```

### –õ–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∏—à–µ—Ç –ª–∏ Nginx –ª–æ–≥–∏
docker-compose logs nginx
ls -la logs/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–¥–∏—Ç –ª–∏ –º–æ–Ω–∏—Ç–æ—Ä —Ñ–∞–π–ª –ª–æ–≥–æ–≤
docker exec nginx-monitor ls -la /app/logs/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—á–∞–µ—Ç –ª–∏ Nginx
curl -I http://localhost:8080/
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –º–æ–Ω–∏—Ç–æ—Ä–∞
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä
docker-compose restart monitor

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d --build monitor
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
nginx-log-monitor/
‚îú‚îÄ‚îÄ docker-compose.yml          # –ú—É–ª—å—Ç–∏-—Å–µ—Ä–≤–∏—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
‚îú‚îÄ‚îÄ Dockerfile                  # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ parser.py                   # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env.example                # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ html/                       # –í–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ index.html              # –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ .github                     # GitHub Actions CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ /workflows/             
|            ‚îî‚îÄ‚îÄ ci.yml         # –û—Å–Ω–æ–≤–Ω–æ–π CI –ø–∞–π–ø–ª–∞–π–Ω
|‚îÄ‚îÄlogs/                        # –õ–æ–≥–∏ Nginx (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ .gitattributes              # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–í–∫–ª–∞–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è! –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å:
- –û—Ç–∫—Ä—ã–≤–∞—Ç—å issues –¥–ª—è –±–∞–≥–æ–≤ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å pull requests —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏
- –°—Ç–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω

---

*–ü—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –ª–∏—à–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.*
